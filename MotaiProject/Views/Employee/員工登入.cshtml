@model MotaiProject.ViewModels.EmployeeLoginViewModel

@{
    ViewBag.Title = "墨臺Motai";
    Layout = "~/Views/Shared/_Layout.cshtml";
}
<div>
    <p style="font-size:30px; padding-left:50px;">墨臺後台系統</p>
</div>



@*@using (Html.BeginForm())
    {*@
@*@Html.AntiForgeryToken()
<form>*@
    <div class="form-group">
        <div class="col-md-10" style="margin:0 auto">
            @Html.LabelFor(model => model.eAccount, htmlAttributes: new { @class = "control-label col-md-5" })
            @Html.EditorFor(model => model.eAccount, new { htmlAttributes = new { @class = "form-control", @id = "Account" } })
            @Html.ValidationMessageFor(model => model.eAccount, "", new { @class = "text-danger" })
        </div>
    </div>
    <div class="form-group">

        <div class="col-md-10" style="margin:0 auto">
            @Html.LabelFor(model => model.ePassword, htmlAttributes: new { @class = "control-label col-md-5" })
            @Html.EditorFor(model => model.ePassword, new { htmlAttributes = new { @class = "form-control", @id = "Password" } })
            @Html.ValidationMessageFor(model => model.ePassword, "", new { @class = "text-danger" })
        </div>
    </div>
    <div style="display:flex; justify-content:center">
        <input type="submit" class="btn btn-primary" style="width:140px;height:50px;" onclick="checklogin()" value="登入">
    </div>

@*</form>*@
@*}*@
<script>
    function checklogin() {
        var Account = $("#Account").val();
        var Password = $("#Password").val();

        var emplogin = {
            eAccount: Account,
            ePassword: Password,
        };

        $.ajax({
            url: "@Url.Action("員工登入", "Employee")",            
            type: "POST",
            data: { "e登入資料": emplogin },
            success: function (data) {
                alert(data.msg);
                onSuccess(data.url);
            }
        });
    };

    var onSuccess = function (url) {
        window.location.href = url;
    };
</script>