@model IEnumerable<MotaiProject.ViewModels.ProductViewModel>

@{
    ViewBag.Title = "管理產品";
    Layout = "~/Views/Shared/LayoutCommodity.cshtml";
}

<style>
    a {
        color: #000000;
    }

        a:hover {
            color: #000000;
            text-decoration: none;
        }

    .btn-yellow_me_one {
        color: #000000;
        font-weight: 900;
        background-color: #FCD492;
        width: 100px;
    }

        .btn-yellow_me_one:hover {
            color: #000000;
            font-weight: 900;
            background-color: #ffdfaa;
        }

        .btn-yellow_me_one:focus,
        .btn-yellow_me_one.focus {
            box-shadow: 0 0 0 0.1rem #F2EDD8;
            background-color: #ffdfaa;
        }

        .btn-yellow_me_one.disabled,
        .btn-yellow_me_one:disabled {
            color: #000000;
            font-weight: 900;
            background-color: #FCD492;
            border-color: #A7674C;
        }

        .btn-yellow_me_one:not(:disabled):not(.disabled):active,
        .btn-yellow_me_one:not(:disabled):not(.disabled).active,
        .show > .btn-yellow_me_one.dropdown-toggle {
            color: #000000;
            font-weight: 900;
            background-color: #FCD492;
        }

            .btn-yellow_me_one:not(:disabled):not(.disabled):active:focus,
            .btn-yellow_me_one:not(:disabled):not(.disabled).active:focus,
            .show > .btn-brown_me_one.dropdown-toggle:focus {
                box-shadow: 0 0 0 0.1rem #F2EDD8;
                background-color: #ffdfaa;
            }
</style>

<h2>管理產品</h2>
<div style="position:absolute;right:300px">
    <label style="font-size:16px;padding-top:12px;padding-right:10px;line-height:16px;margin-bottom:-5px;">搜尋: </label>
    <input type="search" class="light-table-filter" data-table="order-table" placeholder="請輸入關鍵字">
</div>
<button class="btn btn-yellow_me_one">
    @Html.ActionLink("新增", "新增產品")
</button>
<table class="table order-table">
    <thead>
        <tr>
            <th style="display:none">
                @Html.DisplayNameFor(model => model.ProductId)
            </th>
            <th>
                @Html.DisplayNameFor(model => model.psImage)
            </th>
            <th>
                @Html.DisplayNameFor(model => model.pNumber)
            </th>
            <th>
                @Html.DisplayNameFor(model => model.pName)
            </th>

            <th>
                @Html.DisplayNameFor(model => model.psCategory)
            </th>
            <th>
                @Html.DisplayNameFor(model => model.psMaterial)
            </th>
            <th>
                @Html.DisplayNameFor(model => model.psSize)
            </th>
            <th>
                @Html.DisplayNameFor(model => model.pLxWxH)
            </th>
            <th>
                @Html.DisplayNameFor(model => model.pWeight)
            </th>
            <th>
                @Html.DisplayNameFor(model => model.pPrice)
            </th>
            <th>
                @Html.DisplayNameFor(model => model.pQty)
            </th>
            <th></th>
        </tr>
    </thead>
    <tbody>
        @foreach (var item in Model)
        {
            <tr>
                <td style="display:none">
                    @Html.DisplayFor(modelItem => item.ProductId)
                </td>
                <td>
                    <img src="@Html.DisplayFor(modelItem => item.epsImage)" width="90" height="90" />
                </td>
                <td>
                    @Html.DisplayFor(modelItem => item.pNumber)
                </td>
                <td>
                    @Html.DisplayFor(modelItem => item.pName)
                </td>

                <td>
                    @Html.DisplayFor(modelItem => item.psCategory)
                </td>
                <td>
                    @Html.DisplayFor(modelItem => item.psMaterial)
                </td>
                <td>
                    @Html.DisplayFor(modelItem => item.psSize)
                </td>
                <td>
                    @Html.DisplayFor(modelItem => item.pLxWxH)
                </td>
                <td>
                    @Html.DisplayFor(modelItem => item.pWeight)
                </td>
                <td>
                    @Html.DisplayFor(modelItem => item.pPrices)
                </td>
                <td>
                    @Html.DisplayFor(modelItem => item.pQty)
                </td>
                <td>
                    @Html.ActionLink("修改產品", "修改產品", new { id = item.ProductId })
                </td>
            </tr>
        }
    </tbody>
</table>
<script src="~/Content/js/jquery-3.5.1.min.js"></script>
<script>
    (function (document) {
        'use strict';

        // 建立 LightTableFilter
        var LightTableFilter = (function (Arr) {

            var _input;

            // 資料輸入事件處理函數
            function _onInputEvent(e) {
                _input = e.target;
                var tables = document.getElementsByClassName(_input.getAttribute('data-table'));
                Arr.forEach.call(tables, function (table) {
                    Arr.forEach.call(table.tBodies, function (tbody) {
                        Arr.forEach.call(tbody.rows, _filter);
                    });
                });
            }

            // 資料篩選函數，顯示包含關鍵字的列，其餘隱藏
            function _filter(row) {
                var text = row.textContent.toLowerCase(), val = _input.value.toLowerCase();
                row.style.display = text.indexOf(val) === -1 ? 'none' : 'table-row';
            }

            return {
                // 初始化函數
                init: function () {
                    var inputs = document.getElementsByClassName('light-table-filter');
                    Arr.forEach.call(inputs, function (input) {
                        input.oninput = _onInputEvent;
                    });
                }
            };
        })(Array.prototype);

        // 網頁載入完成後，啟動 LightTableFilter
        document.addEventListener('readystatechange', function () {
            if (document.readyState === 'complete') {
                LightTableFilter.init();
            }
        });

    })(document);
</script>


