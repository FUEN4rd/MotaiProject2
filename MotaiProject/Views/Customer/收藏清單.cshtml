@model IEnumerable<MotaiProject.ViewModels.FavoriteViewModel>

@{
    ViewBag.Title = "收藏清單";
    Layout = "~/Views/Shared/_Layout登入.cshtml";
}

<content>
    <script type="text/javascript">
        function collect(id2, name, price) {
            let r = /*Math.floor(Math.random() * (1000 - 10)) +*/ 10; //亂數id
            id = id2 + r;
            var card1 = document.createElement("div");
            card1.className = "card col-xl-4 col-md-6";//class
            card1.style.height = "400px";
            card1.style.padding = "10px";
            card1.style.margin = "10px";
            card1.id = "card" + id;
            document.getElementById(`productrow`).appendChild(card1);
            let img1 = document.createElement("img");
            img1.src = "https://img.ruten.com.tw/s1/5/6d/55/21506424980821_486.jpg";//產品圖片
            img1.className = "card-img-top";
            img1.style.width = "90%";
            img1.style.height = "60%";
            document.getElementById(`${card1.id}`).appendChild(img1);
            let cardbody1 = document.createElement("div");
            cardbody1.className = "card-body d-block"
            cardbody1.style.height = "120px";
            cardbody1.id = "cardbody" + id;
            document.getElementById(`${card1.id}`).appendChild(cardbody1);
            let titel1 = document.createElement("h5");
            titel1.className = "card-title d-flex"
            titel1.style.width = "70%";
            titel1.innerHTML = name;//商品名
            document.getElementById(`${cardbody1.id}`).appendChild(titel1);            
            let cardtext1 = document.createElement("p");
            cardtext1.className = "card-text d-block"
            cardtext1.style.height = "40px";
            cardtext1.innerHTML = price;//商品價格
            document.getElementById(`${cardbody1.id}`).appendChild(cardtext1);
            let star1 = document.createElement("img");
            star1.src = "https://pic.90sjimg.com/design/01/54/03/90/59314e8edb070.png";
            star1.className = "card-img-bottom d-flex";
            star1.style.width = "50px";
            star1.style.height = "50px";
            //star1.style.marginLeft = "70%";
            star1.style.marginTop = "-20px";
            //star1.setAttribute("onclick", "");
            document.getElementById(`${cardbody1.id}`).appendChild(star1);
            img1.setAttribute("onclick", `javascript:location.href='@Url.Action("產品細節", "Customer" )/${id2}'`);//插入url    
            $(`#${cardbody1.id}`).append(`<svg id="cart" height="30px" aria-hidden="true" focusable="false" data-prefix="fas" data-icon="cart-plus" class="d-flex svg-inline--fa fa-cart-plus fa-w-18" role="img" viewBox="0 0 576 512"><path fill="#A22E37" d="M504.717 320H211.572l6.545 32h268.418c15.401 0 26.816 14.301 23.403 29.319l-5.517 24.276C523.112 414.668 536 433.828 536 456c0 31.202-25.519 56.444-56.824 55.994-29.823-.429-54.35-24.631-55.155-54.447-.44-16.287 6.085-31.049 16.803-41.548H231.176C241.553 426.165 248 440.326 248 456c0 31.813-26.528 57.431-58.67 55.938-28.54-1.325-51.751-24.385-53.251-52.917-1.158-22.034 10.436-41.455 28.051-51.586L93.883 64H24C10.745 64 0 53.255 0 40V24C0 10.745 10.745 0 24 0h102.529c11.401 0 21.228 8.021 23.513 19.19L159.208 64H551.99c15.401 0 26.816 14.301 23.403 29.319l-47.273 208C525.637 312.246 515.923 320 504.717 320zM408 168h-48v-40c0-8.837-7.163-16-16-16h-16c-8.837 0-16 7.163-16 16v40h-48c-8.837 0-16 7.163-16 16v16c0 8.837 7.163 16 16 16h48v40c0 8.837 7.163 16 16 16h16c8.837 0 16-7.163 16-16v-40h48c8.837 0 16-7.163 16-16v-16c0-8.837-7.163-16-16-16z" /></svg>`);
            let cart = document.getElementById("cart");
            cart.style.marginLeft = "50%";
            cart.style.marginTop = "-40px";
        }
    </script>
    <div class="container">


        <div class="container row">
            <div id="productrow" class="card-group container"></div>
        </div>
        <div class="container-fluid" style="height:200px"></div>
        @*<script>
            window.onload = collect(2, "七彩玉花瓶", 123456);
            window.onload = collect(3, 564321, 123456);
        </script>*@

        @if (Model != null)
        {
            foreach (var item in Model)
            {
                <script>
                    window.onload = collect(@item.fProductId, "@item.pName", @item.pPrice);
                </script>
                @*<button type="button" class="btn card-img-bottom" data-toggle="tooltip" data-placement="top" title="收藏"
                        id="starlight" style="display: none;" onclick="cancelFavor()">
                    <svg id="starlight" height="32px" width="50px" aria-hidden="true" focusable="false" data-prefix="fas" data-icon="star" class="svg-inline--fa fa-star fa-w-18" role="img" viewBox="0 0 576 512"><path fill="#F2EDD8" d="M259.3 17.8L194 150.2 47.9 171.5c-26.2 3.8-36.7 36.1-17.7 54.6l105.7 103-25 145.5c-4.5 26.3 23.2 46 46.4 33.7L288 439.6l130.7 68.7c23.2 12.2 50.9-7.4 46.4-33.7l-25-145.5 105.7-103c19-18.5 8.5-50.8-17.7-54.6L382 150.2 316.7 17.8c-11.7-23.6-45.6-23.9-57.4 0z" /></svg>
                </button>
                <button type="button" class="btn card-img-bottom" data-toggle="tooltip" data-placement="top" title="收藏"
                        id="star" onclick="addFavor()">
                    <svg id="star" height="32px" width="50px" aria-hidden="true" focusable="false" data-prefix="far" data-icon="star" class="svg-inline--fa fa-star fa-w-18" role="img" viewBox="0 0 576 512"><path fill="#F2EDD8" d="M528.1 171.5L382 150.2 316.7 17.8c-11.7-23.6-45.6-23.9-57.4 0L194 150.2 47.9 171.5c-26.2 3.8-36.7 36.1-17.7 54.6l105.7 103-25 145.5c-4.5 26.3 23.2 46 46.4 33.7L288 439.6l130.7 68.7c23.2 12.2 50.9-7.4 46.4-33.7l-25-145.5 105.7-103c19-18.5 8.5-50.8-17.7-54.6zM388.6 312.3l23.7 138.4L288 385.4l-124.3 65.3 23.7-138.4-100.6-98 139-20.2 62.2-126 62.2 126 139 20.2-100.6 98z" /></svg>
                </button>*@
            }
        }

        @*<table class="table table-light">
            <thead>
                <tr>
                    <th style="display:none">
                        @Html.DisplayNameFor(model => model.FavoriteId)
                    </th>
                    <th style="display:none">
                        @Html.DisplayNameFor(model => model.fCustomerId)
                    </th>
                    <th style="display:none">
                        @Html.DisplayNameFor(model => model.fProductId)
                    </th>
                    <th>
                        @Html.DisplayNameFor(model => model.pName)
                    </th>
                    <th>
                        @Html.DisplayNameFor(model => model.pPrice)
                    </th>
                    <th></th>
                </tr>
            </thead>

            <tbody>
                @foreach (var item in Model)
                {
                    <tr>
                        <td style="display:none">
                            @Html.DisplayFor(modelItem => item.FavoriteId)
                        </td>
                        <td style="display:none">
                            @Html.DisplayFor(modelItem => item.fCustomerId)
                        </td>
                        <td style="display:none">
                            @Html.DisplayFor(modelItem => item.fProductId)
                        </td>
                        <td>
                            @Html.DisplayFor(modelItem => item.pName)
                        </td>
                        <td>
                            @Html.DisplayFor(modelItem => item.pPrice)
                        </td>
                        <td>
                            @Html.ActionLink("Edit", "Edit", new { /* id=item.PrimaryKey */ }) |
                            @Html.ActionLink("Details", "Details", new { /* id=item.PrimaryKey */ }) |
                            @Html.ActionLink("Delete", "Delete", new { /* id=item.PrimaryKey */ })
                        </td>
                    </tr>
                }
            </tbody>


        </table>*@

    </div>

</content>

