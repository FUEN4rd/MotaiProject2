@using PagedList
@using PagedList.Mvc
@model IPagedList<MotaiProject.ViewModels.news>


@{
    ViewBag.Title = "消息";
    Layout = "~/Views/Shared/_Layout登入.cshtml";
}
<link href="~/Content/PagedList.css" rel="stylesheet" />

@*輪播牆*@

<div class="container">
    <div id="carouselExampleControls" class="carousel slide" data-ride="carousel" style="width:300px;height:300px;margin:0 auto; ">
        <div class="carousel-inner">
            <div class="carousel-item active">
                <img src="~/Content/墨臺Logo.png" style="width:300px;height:300px" class="d-block w-100" alt="...">
            </div>
            <div class="carousel-item">
                <img src="~/Content/墨臺Logo.png" style="width:300px;height:300px" class="d-block w-100" alt="...">
            </div>
            <div class="carousel-item">
                <img src="~/Content/墨臺Logo.png" style="width:300px;height:300px" class="d-block w-100" alt="...">
            </div>
        </div>
        <a class="carousel-control-prev" href="#carouselExampleControls" role="button" data-slide="prev">
            <span class="carousel-control-prev-icon" aria-hidden="true"></span>
            <span class="sr-only">Previous</span>
        </a>
        <a class="carousel-control-next" href="#carouselExampleControls" role="button" data-slide="next">
            <span class="carousel-control-next-icon" aria-hidden="true"></span>
            <span class="sr-only">Next</span>
        </a>
    </div>

    <h2>消息</h2>

    <table class="table">
        <tr>
            <th>
                @Html.DisplayNameFor(model => model.FirstOrDefault().newPromotion.sPromotinoCategory)
            </th>
            <th>
                @Html.DisplayNameFor(model => model.FirstOrDefault().newPromotion.PromotionDescription)
            </th>
            <th>
                @Html.DisplayNameFor(model => model.FirstOrDefault().newPromotion.pPromotionPostDate)
            </th>

        </tr>

        @foreach (var item in Model)
        {
            <tr>               
                    <td>
                        @Html.DisplayFor(modelItem => item.newPromotion.sPromotinoCategory)
                    </td>
                    <td>
                        <a href="@Url.Action("消息細節","Customer", new { PromotionId = item.newPromotion.PromotionId })">
                            @Html.DisplayFor(modelItem => item.newPromotion.PromotionDescription)
                            @{ 
                                if (item.newPromotion.PromotionDescription.Length > 10)
                                {
                                    string r=item.newPromotion.PromotionDescription.Split(10)+"...";
                                }
                                else
                                {
                                    string r=item.newPromotion.PromotionDescription;
                                }
                            }

                        </a>
                    </td>
                    <td>
                        
                        @Html.DisplayFor(modelItem => item.newPromotion.pPromotionPostDate)
                    </td>                
            </tr>
        }
    </table>
    @Html.PagedListPager(Model, page => Url.Action("消息", new { page }))
</div>
@*<div class="container">
        <h2>消息</h2>
        <table class="table">
            <tr>
                <th style="display:none">
                    @Html.DisplayNameFor(model => model.FirstOrDefault().newProm.PromotionId)
                </th>
                <th>
                    @Html.DisplayNameFor(model => model.FirstOrDefault().newProm.sPromotinoCategory)
                </th>
                <th>
                    @Html.DisplayNameFor(model => model.FirstOrDefault().newProm.PromotionDescription)
                </th>
                <th>
                    @Html.DisplayNameFor(model => model.FirstOrDefault().newProm.pPromotionPostDate)
                </th>

            </tr>

            @foreach (var item in Model)
            {
                <tr>
                    <a href="@Url.Action(item.newProm.pPromotionWeb)">
                        <td style="display:none">
                            @Html.DisplayFor(modelItem => item.newProm.PromotionId)
                        </td>
                        <td>
                            @Html.DisplayFor(modelItem => item.newProm.sPromotinoCategory)
                        </td>
                        <td>
                            @Html.DisplayFor(modelItem => item.newProm.PromotionDescription)
                        </td>
                        <td>
                            @Html.DisplayFor(modelItem => item.newProm.pPromotionStartDate)
                        </td>
                    </a>
                </tr>
            }
        </table>
    </div>*@